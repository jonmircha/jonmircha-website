<style>
  .theme-toggle {
    border: 0;
    border-radius: 50%;
    width: 2rem;
    height: 2rem;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    background-color: var(--border-color);
    transition: all 0.3s ease-in-out;
  }

  .theme-toggle svg {
    fill: var(--text-color);
  }
</style>
<button class="theme-toggle"></button>
<script>
  (function (d, w, ls) {
    const $btn = d.querySelector(".theme-toggle");
    let prefersDark = w.matchMedia('(prefers-color-scheme: dark)').matches,
      lightIcon = `<svg width="32" height="32" viewBox="0 0 32 32" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M10 14.0001C9.99997 13.0093 10.2453 12.034 10.7141 11.1611C11.1829 10.2883 11.8605 9.54507 12.6865 8.99791C13.5125 8.45076 14.4611 8.11667 15.4477 8.02547C16.4342 7.93428 17.428 8.08881 18.3403 8.47529C19.2526 8.86176 20.055 9.46814 20.6758 10.2403C21.2967 11.0124 21.7166 11.9263 21.8982 12.9003C22.0798 13.8743 22.0174 14.8781 21.7165 15.8221C21.4156 16.766 20.8856 17.6208 20.1739 18.3101C19.9709 18.5061 19.8149 18.7101 19.7209 18.9291L18.9589 20.698C18.9202 20.7877 18.8562 20.8641 18.7746 20.9177C18.693 20.9714 18.5975 21 18.4999 21H13.5C13.4022 21.0002 13.3064 20.9717 13.2247 20.918C13.1429 20.8643 13.0787 20.7879 13.04 20.698L12.279 18.9281C12.17 18.6943 12.0161 18.4843 11.826 18.3101C11.2476 17.7512 10.7878 17.0816 10.4741 16.341C10.1604 15.6005 9.99912 14.8044 10 14.0001V14.0001ZM13 22.5C13 22.3674 13.0526 22.2402 13.1464 22.1465C13.2402 22.0527 13.3674 22 13.5 22H18.4999C18.6325 22 18.7597 22.0527 18.8535 22.1465C18.9472 22.2402 18.9999 22.3674 18.9999 22.5C18.9999 22.6326 18.9472 22.7598 18.8535 22.8536C18.7597 22.9473 18.6325 23 18.4999 23L18.2759 23.447C18.1929 23.6131 18.0653 23.7528 17.9074 23.8504C17.7495 23.9481 17.5676 23.9999 17.3819 24H14.6179C14.4323 23.9999 14.2503 23.9481 14.0924 23.8504C13.9345 23.7528 13.8069 23.6131 13.724 23.447L13.5 23C13.3674 23 13.2402 22.9473 13.1464 22.8536C13.0526 22.7598 13 22.6326 13 22.5Z" />
</svg>`,
      darkIcon = `<svg width="32" height="32" viewBox="0 0 32 32" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M9.50103 13.992C9.50103 13.4196 9.58109 12.8661 9.73121 12.3407L18.296 20.9065C18.2116 20.9659 18.111 20.9977 18.0078 20.9976H13.0038C12.9059 20.9978 12.8101 20.9692 12.7283 20.9155C12.6465 20.8618 12.5822 20.7853 12.5435 20.6954L11.7818 18.924C11.6728 18.69 11.5187 18.4799 11.3285 18.3055C10.7496 17.7462 10.2895 17.076 9.9755 16.3349C9.66151 15.5937 9.50014 14.7969 9.50103 13.992V13.992ZM19.8122 18.1764L11.3205 9.68561C12.453 8.59179 13.9698 7.98655 15.5442 8.00023C17.1187 8.01391 18.6248 8.64542 19.7381 9.75876C20.8514 10.8721 21.4829 12.3782 21.4966 13.9526C21.5103 15.527 20.9051 17.0439 19.8112 18.1764H19.8122ZM12.5034 22.4988C12.5034 22.3661 12.5561 22.2388 12.65 22.145C12.7438 22.0511 12.8711 21.9984 13.0038 21.9984H18.0078C18.1405 21.9984 18.2678 22.0511 18.3616 22.145C18.4555 22.2388 18.5082 22.3661 18.5082 22.4988C18.5082 22.6315 18.4555 22.7588 18.3616 22.8526C18.2678 22.9465 18.1405 22.9992 18.0078 22.9992L17.7836 23.4466C17.7006 23.6128 17.5729 23.7526 17.4149 23.8503C17.2568 23.9481 17.0747 23.9999 16.8889 24H14.1227C13.9369 23.9999 13.7548 23.9481 13.5968 23.8503C13.4387 23.7526 13.3111 23.6128 13.228 23.4466L13.0038 22.9992C12.8711 22.9992 12.7438 22.9465 12.65 22.8526C12.5561 22.7588 12.5034 22.6315 12.5034 22.4988ZM9.85531 9.63457C9.80879 9.58805 9.75355 9.55114 9.69277 9.52596C9.63198 9.50078 9.56683 9.48782 9.50103 9.48782C9.43523 9.48782 9.37008 9.50078 9.30929 9.52596C9.24851 9.55114 9.19327 9.58805 9.14675 9.63457C9.10022 9.6811 9.06332 9.73633 9.03814 9.79712C9.01296 9.85791 9 9.92306 9 9.98885C9 10.0546 9.01296 10.1198 9.03814 10.1806C9.06332 10.2414 9.10022 10.2966 9.14675 10.3431L21.1563 22.3527C21.2503 22.4467 21.3777 22.4994 21.5106 22.4994C21.6435 22.4994 21.7709 22.4467 21.8649 22.3527C21.9588 22.2587 22.0116 22.1313 22.0116 21.9984C22.0116 21.8655 21.9588 21.7381 21.8649 21.6441L9.85531 9.63457V9.63457Z" />
</svg>`;

    function lightMode() {
      ls.setItem("theme", "light");
      d.querySelector(":root").classList.add("light");
      d.querySelector(":root").classList.remove("dark");
      $btn.innerHTML = lightIcon;
    }

    function darkMode() {
      ls.setItem("theme", "dark");
      d.querySelector(":root").classList.remove("light");
      d.querySelector(":root").classList.add("dark");
      $btn.innerHTML = darkIcon;
    }

    if (ls.getItem("theme") === null) {
      if (prefersDark) {
        ls.setItem("theme", "dark");
      } else {
        ls.setItem("theme", "light");
      }
    }

    if (ls.getItem("theme") === "dark") darkMode();
    if (ls.getItem("theme") === "light") lightMode();

    $btn.addEventListener("click", (e) => (ls.getItem("theme") === "dark") ? lightMode() : darkMode());
  })(document, window, localStorage);
</script>